<form method="post">
    <h1>Enrollment Form</h1>
    <strong>Basic Information</strong><br>
    <input type="text" name="name" placeholder="Fullname"><br>
    <input type="text" name="course" placeholder="Course"><br>
    <input type="number" name="level" placeholder="Level"><br>
    <strong>Status:</strong> 
    <select name="status">
        <option value="">- Student Type -</option>
        <option value="council">Council</option>
        <option value="scholar">Scholar</option>
        <option value="working">Working</option>
    </select>
    <br><br>
    
    <strong>For Scholars</strong><br>
    <input type="text" name="program" placeholder="Scholarship Program"><br>
    <input type="text" name="type" placeholder="Scholarship Type"><br><br>

    <strong>For Student Council</strong><br>
    <input type="text" name="position" placeholder="Position"> <br>
    <input type="text" name="org" placeholder="Organization"> <br><br>

    <strong>For Working Students</strong><br>
    <input type="text" name="job" placeholder="Job Title"> <br>
    <input type="text" name="company" placeholder="Company"> <br><br>
    
    <input type="submit" name="submit" value="Enroll Student"><br><br>
</form>

<?php
require 'class.php';

if (isset($_POST['submit'])) {
    $fullname = $_POST['name'];
    $course = $_POST['course'];
    $level = $_POST['level'];
    $status = $_POST['status'];
    $scholarshipProgram = $_POST['program'];
    $scholarshipType = $_POST['type'];
    $position = $_POST['position'];
    $organization = $_POST['org'];
    $jobTitle = $_POST['job'];
    $company = $_POST['company'];

  if (!empty($fullname) && !empty($course) && !empty($level) 
  && (($status === "working" && !empty($jobTitle) && !empty($company)) 
  || ($status === "council" && !empty($position) && !empty($organization)) 
  || ($status === "scholar" && !empty($scholarshipProgram) && !empty($scholarshipType)))) {

  if ($status === "working") {
    $profile = new WorkingStudent($fullname, $course, $level, $status, $jobTitle, $company);
    $response = $profile->working();
  } elseif ($status === "council") {
    $profile = new StudentCouncil($fullname, $course, $level, $status, $position, $organization);
    $response = $profile->council();
  } elseif ($status === "scholar") {
    $profile = new StudentScholar($fullname, $course, $level, $status, $scholarshipProgram, $scholarshipType);
    $response = $profile->scholar();
  }
  echo $profile->introduction() . "<br>";
  echo $response . "<br>";
  echo $profile->enrollment() . "<br>";
} else {
  echo "Invalid data input!";
}
}
?>
